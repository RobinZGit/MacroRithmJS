<html>
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

	<title>Calendar</title>


    <script>
    var Gl_aDeals =[
	
	      //workout
	      ["отжимания вниз головой","по понедельникам","GlDate.getDay()==1"],
	      ["подтягивания на одной руке", "по вторникам","GlDate.getDay()==2"],
          ["флаг", "по четвергам","GlDate.getDay()==4"],
	      ["флаг", "по пятницам","GlDate.getDay()==5"],
	      ["спичаги с брусьев на количество", "по субботам","GlDate.getDay()==6"],
	      ["спичаги с рук на количество. ходба на руках.", "по воскресеньям","GlDate.getDay()==0"],
          
		  //health and impot..
		  ["'не есть до ' + switch (4){case 4: '17';case 6: '18';default: '19';}", "по средам","GlDate.getDay()==5"],
	
        ];

    //пытаемся вычислить строку как формулу. если не получается оставляем строку как есть
    function ev(s){
  	  if (!((s.trim())==""))
  	    try{return eval(s)} catch(e) {return s;}
  	  else return "";
    }
	
    function resizeAll() {
	    // button.style.width = document.body.clientWidth - 20; 
	    // GltxtSpeek.style.width = button.style.width;
    }    
    function loadCurrentData() {
	  var GltxtSpeek  = document.getElementById("idTextsToSpeek");
	  var GlDate = new Date();
	
	  Gl_aDeals
		.filter(function(item, i, arr) {return eval(item[2]) > 0;})
		.forEach(
		function(item, i, arr) { 
			GltxtSpeek.value += "" + (i+1) + ": " + ev(item[0]) + " - " + ev(item[1]) + "\n";});
    }    
    </script>


  </head>
  <body onload="loadCurrentData()" onresize = "resizeAll()">
	<p>
	  <textarea id = "idTextsToSpeek" style = "width:600px;height:400px"></textarea>
	</p>
	<p>
	  <button id = "idStartBtn" style = "width:600px;height:100px" onclick="{alert((new Date()).getMonth());}" >test feachure</button>
	</p>
  </body>
</html>
